<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Acad√©mico 2026</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #3498db;
            --bg: #f4f7f6;
            --karen: #fadbd8; 
            --adela: #ebdef0; 
            --claudia: #d4efdf; 
            --yara: #fdebd0;
        }

        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 0; color: #333; }
        
        /* --- PANTALLA LOGIN --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #2c3e50, #4ca1af);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000;
        }
        .login-box {
            background: white; padding: 40px; border-radius: 10px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2); text-align: center; width: 300px;
        }
        .login-box h2 { margin-bottom: 20px; color: var(--primary); }
        .login-box input {
            width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd;
            border-radius: 5px; box-sizing: border-box;
        }
        .btn-login {
            width: 100%; padding: 12px; background: var(--accent); color: white;
            border: none; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold;
        }
        .btn-login:hover { background: #2980b9; }
        .error-msg { color: red; font-size: 0.9em; margin-top: 10px; display: none; }

        /* --- SISTEMA PRINCIPAL --- */
        #app-content { display: none; padding: 20px; max-width: 1400px; margin: 0 auto; }
        
        .top-bar {
            display: flex; justify-content: space-between; align-items: center;
            background: white; padding: 15px 25px; border-radius: 8px; margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .user-info { font-weight: bold; color: var(--primary); }
        .btn-logout { background: #c0392b; color: white; padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer; }

        /* Panel Admin (Solo Yara) */
        #admin-panel {
            background: #fff3e0; border: 1px solid #ffe0b2; padding: 15px;
            border-radius: 8px; margin-bottom: 20px; display: none;
        }

        /* Estilos Tabla */
        .tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; justify-content: center; }
        .tab-btn {
            padding: 10px 20px; background: white; border: 1px solid #ccc;
            border-radius: 20px; cursor: pointer; transition: 0.3s;
        }
        .tab-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .tab-content { display: none; animation: fadeIn 0.3s; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .tab-content.active { display: block; }

        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th { background: var(--primary); color: white; padding: 12px; text-align: left; }
        td { border: 1px solid #eee; padding: 8px; vertical-align: middle; }
        
        /* Celdas Editables (Solo visual cuando es admin) */
        .editable-active td:not(.hora):not(.static):hover {
            background: #fff8e1; cursor: text; outline: 1px dashed #f39c12;
        }

        .hora { background: #f8f9fa; font-weight: bold; text-align: center; width: 100px; }
        .break { background: #fff9c4; text-align: center; font-weight: bold; color: #f39c12; }
        .lunch { background: #d4edda; text-align: center; font-weight: bold; color: #155724; }

        .badge { display: inline-block; padding: 3px 6px; border-radius: 4px; font-size: 0.75em; font-weight: bold; margin-top: 3px; }
        .doc-karen { background: var(--karen); color: #922b21; }
        .doc-adela { background: var(--adela); color: #6c3483; }
        .doc-claudia { background: var(--claudia); color: #117864; }
        .doc-yara { background: var(--yara); color: #ba4a00; }

        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
        
        @media print {
            #login-screen, .top-bar, .tabs, #admin-panel { display: none; }
            #app-content { display: block !important; }
            .tab-content { display: block !important; page-break-after: always; box-shadow: none; border: 1px solid #ddd; }
        }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h2>üîê Acceso Acad√©mico</h2>
            <input type="text" id="username" placeholder="Usuario">
            <input type="password" id="password" placeholder="Contrase√±a">
            <button class="btn-login" onclick="login()">Entrar</button>
            <p class="error-msg" id="login-error">Credenciales incorrectas</p>
            <p style="font-size: 0.8rem; color: #666; margin-top: 20px;">
                (Prueba: yara / admin2026)
            </p>
        </div>
    </div>

    <div id="app-content">
        
        <div class="top-bar">
            <div>
                <span style="font-size: 1.2rem;">üìÖ Horarios 2026</span>
                <span id="welcome-msg" style="margin-left: 20px; font-weight: normal; color: #666;"></span>
            </div>
            <button class="btn-logout" onclick="logout()">Cerrar Sesi√≥n</button>
        </div>

        <div id="admin-panel">
            <strong>üõ†Ô∏è Panel de Control (Solo Yara):</strong>
            <button onclick="guardarCambios()" style="padding: 5px 15px; margin-left: 10px; background: #27ae60; color: white; border: none; border-radius: 4px; cursor: pointer;">üíæ Guardar Cambios</button>
            <button onclick="descargarCopia()" style="padding: 5px 15px; margin-left: 5px; background: #2980b9; color: white; border: none; border-radius: 4px; cursor: pointer;">‚¨áÔ∏è Descargar Copia</button>
            <button onclick="resetear()" style="padding: 5px 15px; margin-left: 5px; background: #c0392b; color: white; border: none; border-radius: 4px; cursor: pointer;">‚ö†Ô∏è Resetear</button>
            <span style="font-size: 0.8rem; margin-left: 10px; color: #d35400;">* Haz clic en las celdas para editar</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="verTab('basico')">B√°sico</button>
            <button class="tab-btn" onclick="verTab('bach-mad')">Bach. Madurez</button>
            <button class="tab-btn" onclick="verTab('bach-comp')">Bach. Computaci√≥n</button>
            <button class="tab-btn" onclick="verTab('4to-perito')">4to Perito</button>
            <button class="tab-btn" onclick="verTab('perito-adm')">Perito Adm</button>
            <button class="tab-btn" onclick="verTab('secre')">Secretariado</button>
            <button class="tab-btn" onclick="verTab('docentes')" style="background:#34495e; color:white">Vista Docentes</button>
        </div>

        <div id="basico" class="tab-content active">
            <h3>üìö Ciclo B√°sico (Separado de Madurez)</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>TAC (Tecnolog√≠a)</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">08:30</td><td>Idioma Gar√≠funa</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">09:00</td><td>Ciencias Sociales</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">09:30</td><td>Matem√°ticas</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO (30 min)</td></tr>
                <tr><td class="hora">10:30</td><td>Com. y Lenguaje</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">11:00</td><td>Ciencias Naturales</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">11:30</td><td>Expresi√≥n Art√≠stica</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">12:00</td><td>Emprendimiento</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO (1 Hora)</td></tr>
                <tr><td class="hora">13:30</td><td>Idioma Ingl√©s</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
            </table>
        </div>

        <div id="bach-mad" class="tab-content">
            <h3>üìñ Bachillerato por Madurez (Separado de B√°sico)</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>Com. y Lenguaje</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">08:30</td><td>Ciencias Naturales</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">09:00</td><td>Filosof√≠a</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">09:30</td><td>Psicolog√≠a</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO</td></tr>
                <tr><td class="hora">10:30</td><td>Ingl√©s (L3)</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:00</td><td>TICs</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:30</td><td>Matem√°ticas</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">12:00</td><td>Ciencias Sociales</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO</td></tr>
                <tr><td class="hora">13:30</td><td>SEMINARIO</td><td><span class="badge">Asesor</span></td></tr>
                <tr><td class="hora">14:00</td><td>Expresi√≥n Art√≠stica</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
            </table>
        </div>

        <div id="bach-comp" class="tab-content">
            <h3>üíª Bachillerato en Computaci√≥n</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>T√©c. Reparaci√≥n</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">08:30</td><td>Contabilidad I</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">09:00</td><td>T√©c. Mantenimiento</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">09:30</td><td>Computaci√≥n I</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO</td></tr>
                <tr><td class="hora">10:30</td><td>Ingl√©s I</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:00</td><td>F√≠sica I</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">11:30</td><td>Estudios Sociales</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">12:00</td><td>Com. y Lenguaje</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO</td></tr>
                <tr><td class="hora">13:30</td><td>Programaci√≥n I</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">14:00</td><td>Matem√°ticas I</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">14:30</td><td>Estad√≠stica I</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
            </table>
        </div>

        <div id="4to-perito" class="tab-content">
            <h3>üíº 4to Perito Contador</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>Redacci√≥n y Corresp.</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">08:30</td><td>Contabilidad</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">09:00</td><td>Fundamentos Derecho</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">09:30</td><td>Ortograf√≠a</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO</td></tr>
                <tr><td class="hora">10:30</td><td>Ingl√©s Comercial</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:00</td><td>Computaci√≥n</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:30</td><td>Matem√°ticas</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">12:00</td><td>Admin. Org. Oficina</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO</td></tr>
                <tr><td class="hora">13:30</td><td>Programaci√≥n</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">14:00</td><td>Intro Econom√≠a</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
            </table>
        </div>

        <div id="perito-adm" class="tab-content">
            <h3>üè¢ Perito en Administraci√≥n</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>Matem√°ticas</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">08:30</td><td>Mercadotecnia I</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">09:00</td><td>Estad√≠stica</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">09:30</td><td>Administraci√≥n I</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO</td></tr>
                <tr><td class="hora">10:30</td><td>Ingl√©s Comercial</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:00</td><td>Computaci√≥n</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:30</td><td>T√©cnicas Inv.</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr><td class="hora">12:00</td><td>Contabilidad</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO</td></tr>
                <tr><td class="hora">13:30</td><td>Sociolog√≠a</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">14:30</td><td>Intro Econom√≠a</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
            </table>
        </div>

        <div id="secre" class="tab-content">
            <h3>üåê Secretariado Biling√ºe</h3>
            <table class="schedule-table">
                <tr><th class="hora">Hora</th><th>Materia</th><th>Docente</th></tr>
                <tr><td class="hora">08:00</td><td>Redacci√≥n y Corresp.</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr><td class="hora">08:30</td><td>Contabilidad</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">09:30</td><td>Ortograf√≠a</td><td><span class="badge doc-adela">Adela Jim√©nez</span></td></tr>
                <tr class="break"><td class="hora static">10:00</td><td colspan="2" class="static">üîî RECESO</td></tr>
                <tr><td class="hora">10:30</td><td>Ingl√©s Comercial</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">11:00</td><td>Computaci√≥n</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">12:00</td><td>Taquigraf√≠a</td><td><span class="badge doc-claudia">Claudia Catal√°n</span></td></tr>
                <tr class="lunch"><td class="hora static">12:30</td><td colspan="2" class="static">üçΩÔ∏è ALMUERZO</td></tr>
                <tr><td class="hora">13:30</td><td>Matem√°tica Com.</td><td><span class="badge doc-karen">Karen Supe</span></td></tr>
                <tr><td class="hora">14:00</td><td>Mecanograf√≠a</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
                <tr><td class="hora">14:30</td><td>Ingl√©s Avanzado</td><td><span class="badge doc-yara">Yara Guzm√°n</span></td></tr>
            </table>
        </div>

        <div id="docentes" class="tab-content">
            <h3>üë®‚Äçüè´ Lista de Maestras (Solo Lectura)</h3>
            <p>Utilice esta vista para verificar donde est√° cada maestra.</p>
            <ul>
                <li><span class="badge doc-karen">Karen Supe</span> - √Årea Num√©rica / Contable</li>
                <li><span class="badge doc-adela">Adela Jim√©nez</span> - √Årea Human√≠stica / Ciencias</li>
                <li><span class="badge doc-claudia">Claudia Catal√°n</span> - √Årea Administrativa / Social</li>
                <li><span class="badge doc-yara">Yara Guzm√°n</span> - √Årea Tecnolog√≠a / Ingl√©s</li>
            </ul>
        </div>
        
        <button onclick="window.print()" style="margin-top: 20px; padding: 10px 20px; background: #333; color: white; border:none; border-radius:4px; cursor:pointer;">üñ®Ô∏è Imprimir P√°gina</button>

    </div>

    <script>
        // --- BASE DE DATOS DE USUARIOS ---
        const USERS = {
            'yara': { pass: 'admin2026', role: 'admin', name: 'Licda. Yara Guzm√°n' },
            'karen': { pass: 'profe123', role: 'view', name: 'Licda. Karen Supe' },
            'adela': { pass: 'profe123', role: 'view', name: 'Licda. Adela Jim√©nez' },
            'claudia': { pass: 'profe123', role: 'view', name: 'Licda. Claudia Catal√°n' },
            'alumno': { pass: '1234', role: 'view', name: 'Estudiante / Invitado' }
        };

        const STORAGE_KEY = 'horario_data_v2';
        let currentUser = null;

        // --- FUNCIONES DE LOGIN ---
        function login() {
            const u = document.getElementById('username').value.toLowerCase().trim();
            const p = document.getElementById('password').value.trim();
            const errorMsg = document.getElementById('login-error');

            if (USERS[u] && USERS[u].pass === p) {
                currentUser = USERS[u];
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-content').style.display = 'block';
                document.getElementById('welcome-msg').textContent = `Bienvenida, ${currentUser.name}`;
                
                // Configurar permisos
                if (currentUser.role === 'admin') {
                    document.getElementById('admin-panel').style.display = 'block';
                    activarEdicion(true);
                    document.body.classList.add('editable-active');
                } else {
                    document.getElementById('admin-panel').style.display = 'none';
                    activarEdicion(false);
                    document.body.classList.remove('editable-active');
                }
                
                cargarDatos();
            } else {
                errorMsg.style.display = 'block';
            }
        }

        function logout() {
            location.reload();
        }

        // --- NAVEGACI√ìN TABS ---
        function verTab(id) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // --- SISTEMA DE EDICI√ìN ---
        function activarEdicion(enable) {
            const cells = document.querySelectorAll('td');
            cells.forEach(cell => {
                // No editar horas ni recesos fijos
                if (!cell.classList.contains('hora') && !cell.classList.contains('static')) {
                    cell.setAttribute('contenteditable', enable);
                    if(enable) {
                        cell.addEventListener('input', () => {
                            // Opcional: Auto-guardado temporal en memoria
                        });
                    }
                }
            });
        }

        function guardarCambios() {
            if (currentUser.role !== 'admin') return;
            const tables = {};
            document.querySelectorAll('.schedule-table').forEach((table, index) => {
                tables[index] = table.innerHTML;
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(tables));
            alert('‚úÖ Cambios guardados en este navegador.');
        }

        function cargarDatos() {
            const data = localStorage.getItem(STORAGE_KEY);
            if (data) {
                const tablesData = JSON.parse(data);
                const tables = document.querySelectorAll('.schedule-table');
                tables.forEach((table, index) => {
                    if (tablesData[index]) {
                        table.innerHTML = tablesData[index];
                    }
                });
                // Re-aplicar editable si es admin
                if (currentUser && currentUser.role === 'admin') {
                    activarEdicion(true);
                }
            }
        }

        function resetear() {
            if (confirm('¬øBorrar todos los cambios personalizados y volver al original?')) {
                localStorage.removeItem(STORAGE_KEY);
                location.reload();
            }
        }

        function descargarCopia() {
            // Limpia el estado de edici√≥n antes de guardar
            const rawHTML = document.documentElement.outerHTML;
            const blob = new Blob([rawHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Horario_Academico_2026.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // Enter para login
        document.getElementById('password').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') login();
        });
    </script>

</body>
</html>
